# 仿真方案1总结

## 仿真参数表


| **参数类别**   | **参数名称**     | **参数值/配置**                                     | **说明**                                     |
| -------------- | ---------------- | --------------------------------------------------- | -------------------------------------------- |
| **基础参数**   | 节点数量         | `numNodes = 20`                                     | 无人机集群规模                               |
|                | 仿真时间         | `simulationTime = 60.0`                             | 总仿真时长（秒）                             |
|                | 仿真区域大小     | `SIM_AREA_SIZE = 500.0`                             | 500x500 平方米的二维区域，高度范围 50-150 米 |
| **移动模型**   | 移动模型类型     | `GaussMarkovMobilityModel`                          | 高斯-马尔可夫模型（兼具随机性和平滑性）      |
|                | 平均速度范围     | `UniformRandomVariable[Min=10                       | Max=20]` m/s                                 |
|                | 移动区域限制     | `Box(0, 500, 0, 500, 50, 150)`                      | 节点不可超出该三维区域                       |
| **通信时隙**   | 时隙基本单位     | `TIME_SLOT = 0.1` 秒                                | 节点通信调度的时间基准                       |
|                | 节点发送时隙偏移 | `i * TIME_SLOT`（节点 i 的初始触发时间）            | 节点按顺序错开 0.1 秒启动发送                |
|                | 发送周期         | 1 秒（OnTime=0.05s + OffTime=0.95s）                | 每节点每秒发送 0.05 秒，休眠 0.95 秒         |
| **物理层参数** | 信道频率         | 5 GHz                                               | 802.11ac 标准频段                            |
|                | 发射功率         | 23 dBm                                              | 固定功率                                     |
|                | 传播模型         | `FriisPropagationLossModel`                         | 自由空间损耗模型                             |
| **MAC层参数**  | MAC 类型         | `AdhocWifiMac`                                      | 支持 QoS 的 Ad-Hoc 模式                      |
|                | 最大聚合帧大小   | `BE_MaxAmpduSize = 65535`, `BE_MaxAmsduSize = 3839` | 优化高吞吐量场景                             |
| **网络层参数** | 路由协议         | `AODV`                                              | 按需路由协议，适用于动态拓扑                 |
|                | IP 地址分配      | `10.1.1.0/24`                                       | 所有节点在同一子网                           |
| **应用层参数** | 流量类型         | UDP 流（`OnOffApplication`）                        | 无连接、尽力而为传输                         |
|                | 目标地址策略     | `(i+1)%numNodes`（循环选择下一节点）                | 形成环形通信链路                             |
|                | 数据速率         | 2 Mbps                                              | 每个应用的固定发送速率                       |
|                | 数据包大小       | 512 Bytes                                           | 固定包大小                                   |

---

## 协议栈分析表


| **协议层**     | **协议/配置**                                | **关键特性**                                   |
| -------------- | -------------------------------------------- | ---------------------------------------------- |
| **应用层**     | `OnOffApplication`                           | 周期性发送 UDP 数据包，启停时间由时隙调度控制  |
| **传输层**     | UDP                                          | 无连接、低延迟，适用于实时通信                 |
| **网络层**     | AODV 路由协议                                | 动态维护路由表，适应拓扑变化                   |
| **数据链路层** | `AdhocWifiMac` (802.11ac)                    | 支持 QoS 的分布式协调功能（DCF），优化多跳通信 |
| **物理层**     | OFDM (802.11ac) +`FriisPropagationLossModel` | 高频段、高吞吐量，自由空间传播模型             |

---

## 关键时隙与空间行为表


| **行为类型**     | **触发机制**                                                   | **时间/空间特性**                                                         |
| ---------------- | -------------------------------------------------------------- | ------------------------------------------------------------------------- |
| **拓扑变化时隙** | 由`GaussMarkovMobilityModel` 动态更新位置（默认更新间隔 1 秒） | 节点位置连续变化，速度/方向周期性更新，仿真步长决定精度（代码未显式设置） |
| **通信触发时隙** | `ScheduleTxSlots` 按 `i*0.1s` 调度发送窗口                     | 节点依次激活，避免冲突，周期性发送（每节点每秒发送 5% 时间）              |
| **空间移动行为** | 三维随机运动（X/Y 在 0~500m，Z 在 50~150m），速度动态变化      | 移动平滑且受区域约束，符合无人机群协作特征                                |

---

## 关键代码逻辑说明

1. **移动模型**
   通过 `GaussMarkovMobilityModel` 实现无人机平滑运动，速度均值为 15 m/s（实际范围 10~20 m/s），运动方向周期性随机调整。
2. **通信调度**
   每个节点在 `i*0.1s` 触发时隙配置，设置 `OnOffApplication` 的启停时间（0.05s 发送，0.95s 休眠），形成周期性发送。
3. **拓扑维护**
   AODV 协议自动处理链路断裂和路由更新，适应无人机高速移动导致的拓扑变化。
4. **数据记录**
   `TxTrace` 函数记录每次数据发送的时间和节点位置，输出到 `uav-packet-sent.txt`，用于后续分析。
